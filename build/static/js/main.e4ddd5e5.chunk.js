(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(34),l=n.n(s),i=(n(60),n(11)),u=n.n(i),j=n(25),o=n(3),d=(n.p,n(62),n(63),n(50)),b=n.n(d),O=n(51),h=n.n(O),p=n(35),x=n.n(p),f=n(26),g=n.n(f),v=n(13),m=n.n(v),y=n(24),S=n.n(y),k=n(10),C=n.n(k),w=n(52),I=n.n(w),T=n(53),_=n.n(T),F=n(14),Q=n.n(F),E=n(29),N=n.n(E),R=n(54),q=n.n(R),B="*q*",V=r.a.forwardRef((function(e,t){var n=Object(a.useState)(!0),r=Object(o.a)(n,2),s=r[0],l=r[1],i=Object(a.useState)(""),u=Object(o.a)(i,2),j=u[0],d=u[1],b=Object(a.useState)(0),O=Object(o.a)(b,2),h=O[0],p=O[1],x=Object(a.useState)(B),f=Object(o.a)(x,2),g=f[0],v=f[1];return Object(a.useImperativeHandle)(t,(function(){return{setInclude:function(e){l(e)},setValue:function(e){d(e)},getQuerySearch:function(){return s&&""!=j?"&"+e.label+"="+g.replace("q",j):""},getQuerySort:function(){if(!s)return"";switch(h){case 0:return"";case-1:return"-".concat(e.label);case 1:return"".concat(e.label)}},getInclude:function(){return s?e.label:""}}})),Object(c.jsxs)("div",{style:{border:"1px dashed #4d4082",padding:8,paddingTop:56,borderRadius:8,display:"flex",position:"relative",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(c.jsx)("div",{style:{position:"absolute",top:8,right:8,margin:0},children:Object(c.jsx)(q.a,{defaultChecked:!0,label:"Include field",checked:s,onChange:function(e){return l(e.target.checked)}})}),Object(c.jsxs)(N.a,{label:"Method search",onSelect:function(e){return v(e)},style:{margin:0},disabled:!s,children:[Object(c.jsx)("option",{value:B,selected:g==B,children:"Containt"}),Object(c.jsx)("option",{value:"q*",selected:"q*"==g,children:"Ends with"}),Object(c.jsx)("option",{value:"*q",selected:"*q"==g,children:"Stars with"})]}),Object(c.jsx)(Q.a,{style:{marginTop:0},value:j,onChange:function(e){return d(e.target.value)},label:e.label,disabled:!s}),Object(c.jsxs)(N.a,{label:"Sort",onSelect:function(e){return p(e)},style:{margin:0},disabled:!s,children:[Object(c.jsx)("option",{value:0,selected:0==h,children:"None"}),Object(c.jsx)("option",{value:-1,selected:-1==h,children:"Descendent"}),Object(c.jsx)("option",{value:1,selected:1==h,children:"Ascendent"})]})]})})),P=n(30),A=n.n(P),D=n(16),H=n.n(D);var L=function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),r=n[0],s=n[1],l=Object(a.useState)(!1),i=Object(o.a)(l,2),d=i[0],b=i[1],O=Object(a.useState)(null),h=Object(o.a)(O,2),p=h[0],x=h[1],f=Object(a.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],k=Object(a.useState)(""),w=Object(o.a)(k,2),I=w[0],T=w[1],_=Object(a.useState)(""),F=Object(o.a)(_,2),E=F[0],N=F[1];Object(a.useEffect)((function(){y(e.item.fullname),T(e.item.city),N(e.item.email)}),e.item);var R=function(){s(!1),setTimeout((function(){e.hide&&e.hide()}),500)},q=function(){var t=Object(j.a)(u.a.mark((function t(){var n,c,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),x(null),n={fullname:v,email:E,city:I},c="POST",a="users",e.item._id&&(c="PUT",a+="/"+e.item._id),t.prev=5,t.next=8,m()({url:a,method:c,data:n});case 8:r=t.sent,R(),e.save(r.data),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),b(!1),t.t0.response&&t.t0.response.data?x({color:"danger",message:t.t0.response.data.error_description}):x({color:"danger",message:t.t0.toString()});case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{style:{position:"relative"},children:Object(c.jsxs)(H.a,{show:r,onHide:R,children:[Object(c.jsx)(H.a.Header,{closeButton:!0,children:Object(c.jsx)(H.a.Title,{children:"Save user"})}),Object(c.jsxs)(H.a.Body,{children:[d&&Object(c.jsx)(S.a,{style:{display:"block",position:"absolute",top:"calc(50% - 25px)",left:"calc(50% - 25px)",background:"white"}}),p?Object(c.jsx)(A.a,{color:p.color,children:Object(c.jsx)("div",{style:{padding:"10px 0"},children:p.message})}):null,Object(c.jsx)(Q.a,{label:"Fullname",disabled:d,value:v,onChange:function(e){return y(e.target.value)}}),Object(c.jsx)(Q.a,{label:"City",disabled:d,value:I,onChange:function(e){return T(e.target.value)}}),Object(c.jsx)(Q.a,{label:"Email",disabled:d,value:E,onChange:function(e){return N(e.target.value)}})]}),Object(c.jsx)(H.a.Footer,{children:Object(c.jsx)(C.a,{color:"info",onClick:function(){return q()},disabled:d,children:"Save"})})]})})};var U=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],l=Object(a.useState)(null),i=Object(o.a)(l,2),d=i[0],O=i[1],p=Object(a.useState)(null),f=Object(o.a)(p,2),v=f[0],y=f[1],k=Object(a.useState)(""),w=Object(o.a)(k,2),T=(w[0],w[1],Object(a.useState)(0)),F=Object(o.a)(T,2),Q=F[0],E=F[1],N=Object(a.useState)(0),R=Object(o.a)(N,2),q=R[0],B=R[1],P=Object(a.useState)(0),D=Object(o.a)(P,2),H=D[0],U=D[1],z=Object(a.useState)(null),J=Object(o.a)(z,2),M=J[0],G=J[1],K=Object(a.useState)(null),W=Object(o.a)(K,2),X=W[0],Y=W[1],Z=Object(a.useState)(!1),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ce=Object(o.a)(ne,2),ae=ce[0],re=ce[1],se=Object(a.useRef)(),le=Object(a.useRef)(),ie=Object(a.useRef)(),ue=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"users?offset=0&limit=10",e.prev=1,U(0),G(null),Y(null),te(!0),e.next=8,m.a.get(t);case 8:n=e.sent,s(n.data.items),setTimeout((function(){te(!1)}),600),n.data.pages&&E(n.data.pages),n.data.current_page&&B(n.data.current_page),n.data.next&&G(n.data.next),n.data.size&&U(n.data.size),n.data.previus&&Y(n.data.previus),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),te(!1);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}(),je=Object(a.useCallback)(ue,[]);Object(a.useEffect)((function(){je()}),[]);var oe=function(e){e<0?(re(X),ue(X)):e>0&&(re(M),ue(M))},de=function(){var e="users?offset=0&limit=10";e+=se.current.getQuerySearch(),e+=ie.current.getQuerySearch(),e+=le.current.getQuerySearch();var t=[];t.push(se.current.getQuerySort()),t.push(ie.current.getQuerySort()),t.push(le.current.getQuerySort()),(t=t.filter((function(e){return""!=e}))).length>0&&(e+="&sort=".concat(t.join(",")));var n=[];n.push(se.current.getInclude()),n.push(ie.current.getInclude()),n.push(le.current.getInclude()),3!=(n=n.filter((function(e){return""!=e}))).length&&(e+="&fields=".concat(n.join(","))),re(e),ue(e)},be=function(){var e=Object(j.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Delete a ".concat(c.fullname))){e.next=15;break}return y(null),te(!0),e.prev=3,e.next=6,m.a.delete("users/"+c._id);case 6:te(!1),a=n.filter((function(e){return e._id!=c._id})),s(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),te(!1),e.t0.response&&e.t0.response.data?y({color:"danger",message:e.t0.response.data.error_description}):y({color:"danger",message:e.t0.toString()});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsxs)(I.a,{children:[Object(c.jsx)("ol",{className:"breadcrumb",children:Object(c.jsx)("li",{children:Object(c.jsxs)("a",{href:"https://github.com/evaldovega/basic-api",target:"blank",children:[Object(c.jsx)("span",{className:"chevron-back"}),"Evaldo Vega Vivanco"]})})}),Object(c.jsx)("h1",{children:"Backend Basic"}),Object(c.jsx)(_.a,{})]}),Object(c.jsxs)(h.a,{fluid:!0,style:{marginTop:32},children:[d?Object(c.jsx)(L,{item:d,hide:function(){O(null)},save:function(e){console.log(e);var t=!0,c=n.map((function(n){return n._id==e._id?(t=!1,e):n}));t?(le.current.setInclude(!0),le.current.setValue(""),ie.current.setInclude(!0),ie.current.setValue(""),se.current.setInclude(!0),se.current.setValue(e.fullname),de()):s(c)}}):null,v?Object(c.jsx)(A.a,{color:v.color,children:Object(c.jsx)("div",{style:{padding:"10px 0"},children:v.message})}):null,Object(c.jsx)(x.a,{children:Object(c.jsxs)(g.a,{className:"sample-col",children:[ee&&Object(c.jsx)(S.a,{style:{display:"block",position:"fixed",top:"calc(50vh - 25px)",left:"calc(50vw - 25px)",background:"white"}}),Object(c.jsx)("div",{children:Object(c.jsx)(C.a,{color:"primary",onClick:function(){return O({})},type:"string",shape:"outline",children:"Register user"})}),Object(c.jsxs)(x.a,{style:{marginTop:32},children:[Object(c.jsx)(g.a,{children:Object(c.jsx)(V,{ref:se,label:"fullname"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(V,{ref:ie,label:"city"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(V,{ref:le,label:"email"})})]}),Object(c.jsx)("br",{}),Object(c.jsx)(C.a,{onClick:function(){return de()},children:"Apply config"}),Object(c.jsx)("div",{style:{height:"auto"},children:Object(c.jsx)("pre",{children:ae})}),Object(c.jsxs)(b.a,{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("th",{children:["Fullname",Object(c.jsx)("small",{style:{display:"block"},children:"Ascendent"})]}),Object(c.jsx)("th",{children:"City"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.fullname}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.email}),Object(c.jsxs)("td",{children:[Object(c.jsx)(C.a,{shape:"circle",color:"primary",disabled:ee,onClick:function(){return O(e)},children:Object(c.jsx)("i",{className:"lni lni-pencil-alt"})}),Object(c.jsx)(C.a,{color:"danger",disabled:ee,onClick:function(){return be(t,e)},children:Object(c.jsx)("i",{className:"lni lni-trash"})})]})]},e._id)}))})]}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:16},children:[Object(c.jsx)(C.a,{disabled:!X||ee,onClick:function(){return oe(-1)},children:"Previus"}),Object(c.jsxs)("span",{children:[q," / ",Q]}),Object(c.jsx)(C.a,{disabled:!M||ee,onClick:function(){return oe(1)},children:"Next"}),Object(c.jsxs)("span",{children:["Users ",Object(c.jsx)("b",{children:H})]})]})]})})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};m.a.defaults.baseURL="http://3.137.208.184:5000/api/v1/",l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("root")),z()},60:function(e,t,n){},62:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.e4ddd5e5.chunk.js.map