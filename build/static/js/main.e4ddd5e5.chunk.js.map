{"version":3,"sources":["logo.svg","Constant.js","fieldFilter.js","Save.js","App.js","reportWebVitals.js","index.js"],"names":["CONTAINT","FieldFilter","React","forwardRef","props","ref","useState","include","setInclude","value","setValue","sort","setSort","method","setMethod","useImperativeHandle","v","getQuerySearch","label","replace","getQuerySort","getInclude","style","border","padding","paddingTop","borderRadius","display","position","justifyContent","alignItems","top","right","margin","defaultChecked","checked","onChange","target","onSelect","disabled","selected","marginTop","Save","visible","setVisible","loading","setLoading","error","setError","fullname","setFullname","city","setCity","email","setEmail","useEffect","item","hide","setTimeout","save","a","data","url","_id","axios","response","color","message","error_description","toString","show","onHide","Header","closeButton","Title","Body","left","background","Footer","onClick","App","items","setItems","setItem","pages","setPages","current_page","setCurrentPage","size","setSize","next","setNext","back","setBack","setUrl","useRef","load","get","request","previus","loadCallback","useCallback","paginate","filter","_URL","current","push","o","length","join","i","remove","index","window","confirm","delete","docs","Fragment","className","href","fluid","doc","console","log","needUpdate","map","type","shape","height","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","baseURL","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4ddd5e5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const CONTAINT = \"*q*\";\nexport const ENDSWITH = \"q*\";\nexport const STARTSWITH = \"*q\";\nexport const URL = process.env.REACT_APP_API;\n","import React, { useState, useImperativeHandle } from \"react\";\nimport SingleSelect from \"emerald-ui/lib/SingleSelect\";\nimport TextField from \"emerald-ui/lib/TextField\";\nimport Checkbox from \"emerald-ui/lib/Checkbox\";\n\nimport { CONTAINT, STARTSWITH, ENDSWITH } from \"./Constant\";\n\nconst FieldFilter = React.forwardRef((props, ref) => {\n  const [include, setInclude] = useState(true);\n  const [value, setValue] = useState(\"\");\n  const [sort, setSort] = useState(0);\n  const [method, setMethod] = useState(CONTAINT);\n\n  useImperativeHandle(ref, () => ({\n    setInclude: (v) => {\n      setInclude(v);\n    },\n    setValue: (v) => {\n      setValue(v);\n    },\n    getQuerySearch: () => {\n      if (!include) {\n        return \"\";\n      }\n      return value != \"\"\n        ? \"&\" + props.label + \"=\" + method.replace(\"q\", value)\n        : \"\";\n    },\n    getQuerySort: () => {\n      if (!include) {\n        return \"\";\n      }\n      switch (sort) {\n        case 0:\n          return \"\";\n          break;\n        case -1:\n          return `-${props.label}`;\n          break;\n        case 1:\n          return `${props.label}`;\n          break;\n      }\n    },\n    getInclude: () => {\n      return include ? props.label : \"\";\n    },\n  }));\n\n  return (\n    <div\n      style={{\n        border: \"1px dashed #4d4082\",\n        padding: 8,\n        paddingTop: 56,\n        borderRadius: 8,\n        display: \"flex\",\n        position: \"relative\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n      }}\n    >\n      <div style={{ position: \"absolute\", top: 8, right: 8, margin: 0 }}>\n        <Checkbox\n          defaultChecked\n          label=\"Include field\"\n          checked={include}\n          onChange={(v) => setInclude(v.target.checked)}\n        />\n      </div>\n\n      <SingleSelect\n        label=\"Method search\"\n        onSelect={(v) => setMethod(v)}\n        style={{ margin: 0 }}\n        disabled={!include}\n      >\n        <option value={CONTAINT} selected={method == CONTAINT}>\n          Containt\n        </option>\n        <option value={ENDSWITH} selected={method == ENDSWITH}>\n          Ends with\n        </option>\n        <option value={STARTSWITH} selected={method == STARTSWITH}>\n          Stars with\n        </option>\n      </SingleSelect>\n      <TextField\n        style={{ marginTop: 0 }}\n        value={value}\n        onChange={(v) => setValue(v.target.value)}\n        label={props.label}\n        disabled={!include}\n      />\n      <SingleSelect\n        label=\"Sort\"\n        onSelect={(v) => setSort(v)}\n        style={{ margin: 0 }}\n        disabled={!include}\n      >\n        <option value={0} selected={sort == 0}>\n          None\n        </option>\n        <option value={-1} selected={sort == -1}>\n          Descendent\n        </option>\n        <option value={1} selected={sort == 1}>\n          Ascendent\n        </option>\n      </SingleSelect>\n    </div>\n  );\n});\n\nexport default FieldFilter;\n","import Modal from \"emerald-ui/lib/Modal\";\nimport Button from \"emerald-ui/lib/Button\";\nimport TextField from \"emerald-ui/lib/TextField\";\nimport Spinner from \"emerald-ui/lib/Spinner\";\nimport SingleSelect from \"emerald-ui/lib/SingleSelect\";\nimport Alert from \"emerald-ui/lib/Alert\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nfunction Save(props) {\n  const [visible, setVisible] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [fullname, setFullname] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  useEffect(() => {\n    setFullname(props.item.fullname);\n    setCity(props.item.city);\n    setEmail(props.item.email);\n  }, props.item);\n\n  const hide = () => {\n    setVisible(false);\n    setTimeout(() => {\n      if (props.hide) {\n        props.hide();\n      }\n    }, 500);\n  };\n\n  const save = async () => {\n    setLoading(true);\n    setError(null);\n\n    const data = {\n      fullname,\n      email,\n      city,\n    };\n\n    let method = \"POST\",\n      url = \"users\";\n\n    if (props.item._id) {\n      method = \"PUT\";\n      url += \"/\" + props.item._id;\n    }\n\n    try {\n      const response = await axios({\n        url: url,\n        method: method,\n        data: data,\n      });\n      hide();\n      props.save(response.data);\n    } catch (error) {\n      setLoading(false);\n      if (error.response && error.response.data) {\n        setError({\n          color: \"danger\",\n          message: error.response.data.error_description,\n        });\n      } else {\n        setError({ color: \"danger\", message: error.toString() });\n      }\n    }\n  };\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <Modal show={visible} onHide={hide}>\n        <Modal.Header closeButton={true}>\n          <Modal.Title>Save user</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {loading && (\n            <Spinner\n              style={{\n                display: \"block\",\n                position: \"absolute\",\n                top: \"calc(50% - 25px)\",\n                left: \"calc(50% - 25px)\",\n                background: \"white\",\n              }}\n            />\n          )}\n          {error ? (\n            <Alert color={error.color}>\n              <div style={{ padding: \"10px 0\" }}>{error.message}</div>\n            </Alert>\n          ) : null}\n          <TextField\n            label=\"Fullname\"\n            disabled={loading}\n            value={fullname}\n            onChange={(v) => setFullname(v.target.value)}\n          />\n          <TextField\n            label=\"City\"\n            disabled={loading}\n            value={city}\n            onChange={(v) => setCity(v.target.value)}\n          />\n          <TextField\n            label=\"Email\"\n            disabled={loading}\n            value={email}\n            onChange={(v) => setEmail(v.target.value)}\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button color=\"info\" onClick={() => save()} disabled={loading}>\n            Save\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Save;\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"emerald-ui/lib/styles.css\";\nimport Table from \"emerald-ui/lib/Table\";\nimport Container from \"emerald-ui/lib/Container\";\nimport Row from \"emerald-ui/lib/Row\";\nimport Col from \"emerald-ui/lib/Col\";\nimport { useCallback, useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"emerald-ui/lib/Spinner\";\nimport Button from \"emerald-ui/lib/Button\";\nimport PageHeader from \"emerald-ui/lib/PageHeader\";\nimport Nav from \"emerald-ui/lib/Nav\";\nimport TextField from \"emerald-ui/lib/TextField\";\nimport FieldFilter from \"./fieldFilter\";\nimport Alert from \"emerald-ui/lib/Alert\";\nimport Save from \"./Save\";\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [item, setItem] = useState(null);\n\n  const [error, setError] = useState(null);\n  const [quearyElastic, setQuearyElastic] = useState(\"\");\n\n  const [pages, setPages] = useState(0);\n  const [current_page, setCurrentPage] = useState(0);\n  const [size, setSize] = useState(0);\n\n  const [next, setNext] = useState(null);\n  const [back, setBack] = useState(null);\n\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n\n  const fullname = useRef();\n  const email = useRef();\n  const city = useRef();\n\n  const hide = () => {\n    setItem(null);\n  };\n\n  const load = async (url = \"users?offset=0&limit=10\") => {\n    try {\n      setSize(0);\n      setNext(null);\n      setBack(null);\n      setLoading(true);\n      const request = await axios.get(url);\n      setItems(request.data.items);\n      setTimeout(() => {\n        setLoading(false);\n      }, 600);\n\n      if (request.data.pages) {\n        setPages(request.data.pages);\n      }\n\n      if (request.data.current_page) {\n        setCurrentPage(request.data.current_page);\n      }\n\n      if (request.data.next) {\n        setNext(request.data.next);\n      }\n      if (request.data.size) {\n        setSize(request.data.size);\n      }\n\n      if (request.data.previus) {\n        setBack(request.data.previus);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  };\n\n  const loadCallback = useCallback(load, []);\n\n  useEffect(() => {\n    loadCallback();\n  }, []);\n\n  const paginate = (a) => {\n    if (a < 0) {\n      setUrl(back);\n      load(back);\n    } else if (a > 0) {\n      setUrl(next);\n      load(next);\n    }\n  };\n\n  const filter = () => {\n    let _URL = \"users?offset=0&limit=10\";\n\n    _URL += fullname.current.getQuerySearch();\n\n    _URL += city.current.getQuerySearch();\n\n    _URL += email.current.getQuerySearch();\n\n    let sort = [];\n    sort.push(fullname.current.getQuerySort());\n    sort.push(city.current.getQuerySort());\n    sort.push(email.current.getQuerySort());\n    sort = sort.filter((o) => o != \"\");\n    if (sort.length > 0) {\n      _URL += `&sort=${sort.join(\",\")}`;\n    }\n\n    let include = [];\n    include.push(fullname.current.getInclude());\n    include.push(city.current.getInclude());\n    include.push(email.current.getInclude());\n    include = include.filter((i) => i != \"\");\n    if (include.length != 3) {\n      _URL += `&fields=${include.join(\",\")}`;\n    }\n\n    setUrl(_URL);\n\n    load(_URL);\n  };\n\n  const renderItems = () => {\n    return items.map((item, index) => (\n      <tr key={item._id}>\n        <td>{item.fullname}</td>\n        <td>{item.city}</td>\n        <td>{item.email}</td>\n        <td>\n          <Button\n            shape=\"circle\"\n            color=\"primary\"\n            disabled={loading}\n            onClick={() => setItem(item)}\n          >\n            <i className=\"lni lni-pencil-alt\"></i>\n          </Button>\n          <Button\n            color=\"danger\"\n            disabled={loading}\n            onClick={() => remove(index, item)}\n          >\n            <i className=\"lni lni-trash\"></i>\n          </Button>\n        </td>\n      </tr>\n    ));\n  };\n\n  const remove = async (index, item) => {\n    if (window.confirm(`Delete a ${item.fullname}`)) {\n      setError(null);\n      setLoading(true);\n      try {\n        await axios.delete(\"users/\" + item._id);\n        setLoading(false);\n        const docs = items.filter((i) => i._id != item._id);\n        setItems(docs);\n      } catch (error) {\n        setLoading(false);\n        if (error.response && error.response.data) {\n          setError({\n            color: \"danger\",\n            message: error.response.data.error_description,\n          });\n        } else {\n          setError({ color: \"danger\", message: error.toString() });\n        }\n      }\n    }\n  };\n\n  const save = (doc) => {\n    console.log(doc);\n    let needUpdate = true;\n    const docs = items.map((item) => {\n      if (item._id == doc._id) {\n        needUpdate = false;\n        return doc;\n      }\n      return item;\n    });\n    if (needUpdate) {\n      email.current.setInclude(true);\n      email.current.setValue(\"\");\n\n      city.current.setInclude(true);\n      city.current.setValue(\"\");\n\n      fullname.current.setInclude(true);\n      fullname.current.setValue(doc.fullname);\n      filter();\n    } else {\n      setItems(docs);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <ol className=\"breadcrumb\">\n          <li>\n            <a href=\"https://github.com/evaldovega/basic-api\" target=\"blank\">\n              <span className=\"chevron-back\"></span>\n              Evaldo Vega Vivanco\n            </a>\n          </li>\n        </ol>\n        <h1>Backend Basic</h1>\n        <Nav></Nav>\n      </PageHeader>\n\n      <Container fluid style={{ marginTop: 32 }}>\n        {item ? <Save item={item} hide={hide} save={save} /> : null}\n\n        {error ? (\n          <Alert color={error.color}>\n            <div style={{ padding: \"10px 0\" }}>{error.message}</div>\n          </Alert>\n        ) : null}\n\n        <Row>\n          <Col className=\"sample-col\">\n            {loading && (\n              <Spinner\n                style={{\n                  display: \"block\",\n                  position: \"fixed\",\n                  top: \"calc(50vh - 25px)\",\n                  left: \"calc(50vw - 25px)\",\n                  background: \"white\",\n                }}\n              />\n            )}\n\n            <div>\n              <Button\n                color=\"primary\"\n                onClick={() => setItem({})}\n                type=\"string\"\n                shape={\"outline\"}\n              >\n                Register user\n              </Button>\n            </div>\n\n            <Row style={{ marginTop: 32 }}>\n              <Col>\n                <FieldFilter ref={fullname} label=\"fullname\" />\n              </Col>\n              <Col>\n                <FieldFilter ref={city} label=\"city\" />\n              </Col>\n              <Col>\n                <FieldFilter ref={email} label=\"email\" />\n              </Col>\n            </Row>\n            <br></br>\n            <Button onClick={() => filter()}>Apply config</Button>\n            <div style={{ height: \"auto\" }}>\n              <pre>{url}</pre>\n            </div>\n\n            <Table>\n              <thead>\n                <tr>\n                  <th>\n                    Fullname\n                    <small style={{ display: \"block\" }}>Ascendent</small>\n                  </th>\n                  <th>City</th>\n                  <th>Email</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>{renderItems()}</tbody>\n            </Table>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginTop: 16,\n              }}\n            >\n              <Button disabled={!back || loading} onClick={() => paginate(-1)}>\n                Previus\n              </Button>\n              <span>\n                {current_page} / {pages}\n              </span>\n              <Button disabled={!next || loading} onClick={() => paginate(1)}>\n                Next\n              </Button>\n              <span>\n                Users <b>{size}</b>\n              </span>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { URL } from \"./Constant\";\nimport axios from \"axios\";\naxios.defaults.baseURL = URL;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}